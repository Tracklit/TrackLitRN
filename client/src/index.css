@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prevent scroll position preservation across navigation */
html {
  scroll-behavior: auto !important;
  overflow-x: hidden;
}

/* Force scroll reset on route changes */
body, #root {
  position: relative;
  overflow-x: hidden;
  scroll-behavior: auto !important;
}

/* Reset scroll position for all containers on navigation */
* {
  scroll-behavior: auto !important;
}

/* Prevent browser scroll restoration */
:root {
  scroll-behavior: auto !important;
}

/* Force all elements to start at scroll position 0 */
html, body, #root, main, div, section, article {
  scroll-behavior: auto !important;
}

/* Override any smooth scrolling that might interfere */
@media (prefers-reduced-motion: no-preference) {
  * {
    scroll-behavior: auto !important;
  }
}

/* Removed chat slide animations */

/* Custom card shadow with strong visibility */
.shadow-md {
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1) !important;
}

.shadow-lg {
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.1) !important;
}

.shadow-2xl {
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 15px 20px -5px rgba(0, 0, 0, 0.15) !important;
}

/* Prevent white background flash on notification accept button */
.notification-accept-btn {
  background-color: var(--btn-bg) !important;
  color: var(--btn-color) !important;
}

.notification-accept-btn:active,
.notification-accept-btn:focus,
.notification-accept-btn:hover {
  background-color: var(--btn-bg) !important;
  color: var(--btn-color) !important;
  outline: none !important;
  box-shadow: none !important;
}

.notification-accept-btn:disabled {
  background-color: #9ca3af !important;
  color: #4b5563 !important;
}

/* Modal positioning and opacity fixes with maximum specificity */
[data-radix-dialog-content],
[data-radix-dialog-content][data-state="open"],
[data-radix-dialog-content][data-state="closed"],
[data-radix-dialog-content]:active,
[data-radix-dialog-content]:focus,
[data-radix-dialog-content]:hover {
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
  right: auto !important;
  bottom: auto !important;
  margin: 0 !important;
  transform: translate(-50%, -50%) !important;
  width: fit-content !important;
  height: fit-content !important;
  max-width: min(calc(100vw - 2rem), 28rem) !important;
  max-height: calc(100vh - 2rem) !important;
  background: white !important;
  background-color: white !important;
  opacity: 1 !important;
  z-index: 1000 !important;
  touch-action: none !important;
  user-select: none !important;
  pointer-events: auto !important;
  border: 2px solid #e5e7eb !important;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
  will-change: auto !important;
  transition: none !important;
  animation: none !important;
  -webkit-transform: translate(-50%, -50%) !important;
  -moz-transform: translate(-50%, -50%) !important;
  -ms-transform: translate(-50%, -50%) !important;
}

/* Dark mode background override */
.dark [data-radix-dialog-content] {
  background: #0f172a !important;
  background-color: #0f172a !important;
  border-color: #334155 !important;
}

/* Prevent modal movement on touch */
[data-radix-dialog-content] * {
  touch-action: none !important;
  pointer-events: auto !important;
}

/* Override any positioning transforms during interaction */
[data-radix-dialog-content]:active,
[data-radix-dialog-content]:focus,
[data-radix-dialog-content]:hover,
[data-radix-dialog-content]:focus-within {
  transform: translate(-50%, -50%) !important;
  position: fixed !important;
  top: 50% !important;
  left: 50% !important;
}

/* Prevent all drag and movement behaviors */
[data-radix-dialog-content] * {
  user-select: none !important;
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  -webkit-touch-callout: none !important;
  -webkit-user-drag: none !important;
  -khtml-user-drag: none !important;
  -moz-user-drag: none !important;
  -o-user-drag: none !important;
  user-drag: none !important;
  drag: none !important;
  draggable: false !important;
}

/* Lock modal overlay position */
[data-radix-dialog-overlay] {
  position: fixed !important;
  inset: 0 !important;
  z-index: 999 !important;
  background: rgba(0, 0, 0, 0.5) !important;
  touch-action: none !important;
}

/* Prevent any gesture or touch events from affecting modal */
[data-radix-dialog-content] {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
  -webkit-touch-callout: none !important;
  -webkit-tap-highlight-color: transparent !important;
}

/* Modal overlay fix */
[data-radix-dialog-overlay] {
  background-color: rgba(0, 0, 0, 0.5) !important;
  position: fixed !important;
  inset: 0 !important;
  z-index: 999 !important;
}

/* Custom styling for hiding scrollbars while maintaining scroll functionality */
body, div, aside, nav, main, section, article, 
.hamburger-menu, [data-radix-scroll-area-viewport], 
[data-state=open], [data-sidebar] {
  -ms-overflow-style: none !important;  /* IE and Edge */
  scrollbar-width: none !important;  /* Firefox */
}

/* Hide scrollbar for Chrome, Safari and Opera */
body::-webkit-scrollbar,
div::-webkit-scrollbar,
aside::-webkit-scrollbar,
nav::-webkit-scrollbar, 
main::-webkit-scrollbar,
section::-webkit-scrollbar,
article::-webkit-scrollbar,
.hamburger-menu::-webkit-scrollbar,
[data-radix-scroll-area-viewport]::-webkit-scrollbar,
[data-state=open]::-webkit-scrollbar,
[data-sidebar]::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

/* Target Radix UI components specifically */
[role="dialog"],
[role="menu"],
[role="navigation"] {
  -ms-overflow-style: none !important;
  scrollbar-width: none !important;
}

[role="dialog"]::-webkit-scrollbar,
[role="menu"]::-webkit-scrollbar,
[role="navigation"]::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

/* Pulsating effect for the start button */
@keyframes pulse-glow {
  0% {
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
  }
  70% {
    box-shadow: 0 0 0 15px rgba(59, 130, 246, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(59, 130, 246, 0);
  }
}

.pulse-effect {
  animation: pulse-glow 2s infinite;
}

/* Glowing effect for the stop button */
@keyframes danger-glow {
  0% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.5);
  }
  70% {
    box-shadow: 0 0 0 15px rgba(239, 68, 68, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
  }
}

.danger-pulse-effect {
  animation: danger-glow 1.5s infinite;
}

/* Removed main-content animation styles to prevent conflicts */

/* Remove all hover states on mobile devices - Multiple approaches for compatibility */
@media (hover: none) and (pointer: coarse),
       (max-width: 768px),
       screen and (max-device-width: 768px) {
  * {
    -webkit-touch-callout: none !important;
    -webkit-user-select: none !important;
    -moz-user-select: none !important;
    -ms-user-select: none !important;
    user-select: none !important;
    -webkit-tap-highlight-color: transparent !important;
  }
  
  /* Override all hover states on mobile */
  button:hover,
  button:active,
  button:focus,
  [role="button"]:hover,
  [role="button"]:active,
  [role="button"]:focus,
  [tabindex]:hover,
  [tabindex]:active,
  [tabindex]:focus,
  .hover\:bg-accent:hover,
  .hover\:bg-muted:hover,
  .hover\:bg-destructive:hover,
  .hover\:bg-primary:hover,
  .hover\:bg-secondary:hover,
  .hover\:bg-red-700:hover,
  .hover\:opacity-100:hover,
  .hover\:opacity-80:hover,
  .hover\:scale-105:hover,
  .hover\:shadow-lg:hover,
  .hover\:border-primary:hover,
  .hover\:border-destructive:hover,
  .hover\:underline:hover,
  .group:hover .group-hover\:opacity-100,
  .group:hover .group-hover\:scale-105,
  .card:hover,
  .card:active,
  .card:focus {
    transform: initial !important;
    box-shadow: initial !important;
    outline: none !important;
    -webkit-tap-highlight-color: transparent !important;
    filter: none !important;
  }
  
  /* Specific text color hover states to disable */
  .hover\:text-accent-foreground:hover,
  .hover\:text-muted-foreground:hover,
  .hover\:text-destructive-foreground:hover,
  .hover\:text-primary-foreground:hover,
  .hover\:text-secondary-foreground:hover {
    color: inherit !important;
  }
  
  /* Background color hover states to disable */
  .hover\:bg-accent:hover,
  .hover\:bg-muted:hover,
  .hover\:bg-destructive:hover,
  .hover\:bg-primary:hover,
  .hover\:bg-secondary:hover,
  .hover\:bg-red-700:hover {
    background-color: inherit !important;
  }
  
  /* Border color hover states to disable */
  .hover\:border-primary:hover,
  .hover\:border-destructive:hover {
    border-color: inherit !important;
  }
}

/* Force disable hover states globally on small screens */
@media (max-width: 1024px) {
  .card:hover,
  .card:active,
  .card:focus,
  [data-hover]:hover,
  [data-hover]:active,
  [data-hover]:focus {
    transform: initial !important;
    box-shadow: initial !important;
    outline: none !important;
    -webkit-tap-highlight-color: transparent !important;
    filter: none !important;
  }
}

:root {
  /* Transparent backgrounds to allow gradient to show through */
  --background: transparent;
  --foreground: 0 0% 95%;
  --muted: 220 35% 18% / 0.8;
  --muted-foreground: 220 5% 65%;
  --popover: 220 40% 12% / 0.95;
  --popover-foreground: 0 0% 95%;
  --card: 220 35% 15% / 0.8;
  --card-foreground: 0 0% 95%;
  --border: 220 20% 15%;
  --input: 220 20% 15%;
  --primary: 45 93% 58%; /* Gold */
  --primary-foreground: 0 0% 0%;
  --secondary: 38 92% 50%; /* Deep gold */
  --secondary-foreground: 0 0% 0%;
  --accent: 45 93% 58%; /* Gold */
  --accent-foreground: 0 0% 0%;
  --destructive: 0 70% 50%;
  --destructive-foreground: 0 0% 95%;
  --ring: 45 93% 58%;
  --radius: 0.5rem;
  --chart-1: 280 85% 65%;
  --chart-2: 260 70% 50%;
  --chart-3: 300 70% 60%;
  --chart-4: 250 80% 55%;
  --chart-5: 290 75% 50%;
  --sidebar-background: 220 30% 12% / 0.9;
  --sidebar-foreground: 0 0% 95%;
  --sidebar-primary: 45 93% 58%;
  --sidebar-primary-foreground: 0 0% 0%;
  --sidebar-accent: 45 93% 58%;
  --sidebar-accent-foreground: 0 0% 0%;
  --sidebar-border: 220 20% 18%;
  --sidebar-ring: 45 93% 58%;
  --success: 142 71% 45%;
  --warning: 36 93% 54%;
  --darkNavy: 220 30% 6%;
  --darkGray: 220 20% 15%;
  --lightGray: 220 15% 20%;
}

/* Light mode variant is now the same as dark mode for consistency */
.dark {
  --background: 220 30% 10%;
  --foreground: 0 0% 95%;
  --muted: 220 25% 15%;
  --muted-foreground: 220 5% 65%;
  --popover: 220 30% 10%;
  --popover-foreground: 0 0% 95%;
  --card: 220 25% 15%;
  --card-foreground: 0 0% 95%;
  --border: 220 20% 20%;
  --input: 220 20% 20%;
  --primary: 45 93% 58%; /* Gold */
  --primary-foreground: 0 0% 0%;
  --secondary: 38 92% 50%; /* Deep gold */
  --secondary-foreground: 0 0% 0%;
  --accent: 45 93% 58%; /* Gold */
  --accent-foreground: 0 0% 0%;
  --destructive: 0 70% 50%;
  --destructive-foreground: 0 0% 95%;
  --ring: 45 93% 58%;
  --radius: 0.5rem;
  --chart-1: 280 85% 65%;
  --chart-2: 260 70% 50%;
  --chart-3: 300 70% 60%;
  --chart-4: 250 80% 55%;
  --chart-5: 290 75% 50%;
  --sidebar-background: 220 30% 8%;
  --sidebar-foreground: 0 0% 95%;
  --sidebar-primary: 45 93% 58%;
  --sidebar-primary-foreground: 0 0% 0%;
  --sidebar-accent: 45 93% 58%;
  --sidebar-accent-foreground: 0 0% 0%;
  --sidebar-border: 220 20% 20%;
  --sidebar-ring: 45 93% 58%;
  --success: 142 71% 45%;
  --warning: 36 93% 54%;
  --darkNavy: 220 30% 8%;
  --darkGray: 220 20% 20%;
  --lightGray: 220 15% 30%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased text-foreground;
    min-height: 100vh;
    background: linear-gradient(135deg, #000000 0%, #1a1a2e 50%, #16213e 70%, #4a148c 90%, #7b1fa2 100%) !important;
    background-attachment: fixed !important;
  }

  /* Make specific layout containers transparent to show gradient */
  #root {
    background: transparent !important;
  }

  .min-h-screen {
    background: transparent !important;
  }

  main {
    background: transparent !important;
  }

  /* Sprinthia page gets solid background */
  body:has([data-sprinthia-page]) {
    background: #010a18 !important;
    animation: none !important;
  }

  body:has([data-sprinthia-page]) #root,
  body:has([data-sprinthia-page]) .flex.h-screen,
  body:has([data-sprinthia-page]) [class*="bg-background"] {
    background: #010a18 !important;
  }
}

@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.weather-icon {
  filter: drop-shadow(0 0 3px rgba(0, 0, 0, 0.1));
}

.wind-arrow {
  transition: transform 0.3s ease;
}

/* Mood Slider Styling */
.mood-slider {
  height: 8px;
}

.mood-slider [data-orientation="horizontal"] {
  height: 100%;
}

/* Override all slider knob styles to ensure a single color */
.mood-slider [role="slider"] {
  height: 24px !important;
  width: 24px !important;
  background-color: #fbbf24 !important; /* Fixed amber/gold color with !important to override */
  background: #fbbf24 !important; /* Double property for maximum browser compatibility */
  border-radius: 9999px !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
  margin-top: -7px !important;
  transition: transform 0.2s ease !important;
  border: none !important;
}

/* Create gradient track for mood slider */
.mood-slider [data-orientation="horizontal"] {
  background: linear-gradient(to right, 
    #ef4444 0%, 
    #f97316 25%, 
    #f59e0b 45%, 
    #84cc16 65%, 
    #22c55e 85%, 
    #15803d 100%
  );
  border-radius: 9999px;
}

.notification-panel-no-bottom-space {
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
  height: 100vh !important;
  max-height: 100vh !important;
  overflow: hidden !important;
}

.notification-panel-content {
  height: calc(100vh - 80px) !important;
  overflow-y: auto !important;
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Force solid toast backgrounds - override all possible selectors */
[data-radix-toast-root],
[data-state="open"][data-radix-toast-root],
.group[data-radix-toast-root],
[data-radix-toast-viewport] > [data-radix-toast-root],
[data-radix-toast-viewport] [data-state="open"],
[data-radix-toast-viewport] > *,
[role="status"],
.toast,
.group.pointer-events-auto {
  background-color: hsl(var(--background)) !important;
  background: hsl(var(--background)) !important;
  border: 1px solid hsl(var(--border)) !important;
  opacity: 1 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
  color: hsl(var(--foreground)) !important;
}

/* Target specific toast classes that might be causing transparency */
.group.pointer-events-auto.relative.flex,
.group[data-state="open"],
[class*="toast"][class*="group"],
[class*="pointer-events-auto"] {
  background-color: hsl(var(--background)) !important;
  background: hsl(var(--background)) !important;
  opacity: 1 !important;
}

/* Ensure all child elements inherit proper colors */
[data-radix-toast-viewport] *,
[data-radix-toast-root] *,
.toast *,
[role="status"] * {
  opacity: 1 !important;
  color: hsl(var(--foreground)) !important;
}

/* Override any transparency from CSS variables or classes */
:root [data-radix-toast-root],
:root .toast,
:root [role="status"] {
  --tw-bg-opacity: 1 !important;
  background-color: hsl(var(--background)) !important;
}

/* Removed iOS-style navigation transitions */

/* Smooth hardware acceleration for transitions */
.motion-page {
  will-change: transform, opacity;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Prevent content shift during animations */
.motion-safe {
  transform: translateZ(0);
}

/* Practice card pulse animation */
@keyframes practice-border-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(168, 85, 247, 1), 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 15px 20px -5px rgba(0, 0, 0, 0.15);
  }
  25% {
    box-shadow: 0 0 0 8px rgba(168, 85, 247, 0.8), 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 15px 20px -5px rgba(0, 0, 0, 0.15);
  }
  50% {
    box-shadow: 0 0 0 16px rgba(168, 85, 247, 0.4), 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 15px 20px -5px rgba(0, 0, 0, 0.15);
  }
  75% {
    box-shadow: 0 0 0 8px rgba(168, 85, 247, 0.8), 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 15px 20px -5px rgba(0, 0, 0, 0.15);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(168, 85, 247, 1), 0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 15px 20px -5px rgba(0, 0, 0, 0.15);
  }
}

.practice-pulse {
  animation: practice-border-pulse 3s ease-in-out !important;
  z-index: 10 !important;
}




