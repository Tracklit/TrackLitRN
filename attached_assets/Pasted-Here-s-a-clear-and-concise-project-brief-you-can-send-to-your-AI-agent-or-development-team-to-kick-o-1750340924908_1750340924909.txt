Here‚Äôs a clear and concise project brief you can send to your AI agent or development team to kick off the refactor:

‚∏ª

üìÑ Refactor Brief: Video Analysis Tool with MediaPipe + OpenAI Integration

üß† Objective

Refactor the current video analysis system, which currently relies only on OpenAI, to use MediaPipe for biomechanical keypoint extraction and structured motion data. OpenAI will still be used, but only for interpreting and summarizing the extracted data in natural language. The analysis should specifically target athletic performance metrics.

‚∏ª

‚öôÔ∏è Refactor Scope

‚úÖ 1. Replace current OpenAI-only analysis pipeline
	‚Ä¢	Stop attempting to interpret raw video directly with OpenAI (not reliable).
	‚Ä¢	Instead, process video through MediaPipe (Python backend) to extract:
	‚Ä¢	Pose landmarks (skeleton/joint positions per frame)
	‚Ä¢	Kinematic data (velocities, stride timing, joint angles)

‚úÖ 2. Build Data Extraction Layer
	‚Ä¢	Implement MediaPipe in Python to:
	‚Ä¢	Parse video input and track full-body pose per frame
	‚Ä¢	Output a structured format (JSON/CSV) that includes:
	‚Ä¢	Frame timestamps
	‚Ä¢	Joint positions
	‚Ä¢	Stride counts and durations
	‚Ä¢	Foot contact and lift-off frames
	‚Ä¢	Joint angles at key phases (e.g., knee at toe-off)

‚úÖ 3. Integrate OpenAI (GPT-4/4o) for Language Analysis
	‚Ä¢	Use OpenAI only to interpret structured data, not raw video.
	‚Ä¢	Generate human-readable reports from key metrics.
	‚Ä¢	Example prompt format:

Here is structured data from a running video:
- Average stride rate: 182 spm
- Peak knee angle: 155¬∞
- Right foot contact imbalance: 8%
Please analyze form and give feedback in 2‚Äì3 paragraphs.



‚úÖ 4. Output Options
	‚Ä¢	Return:
	‚Ä¢	Structured metrics (JSON)
	‚Ä¢	GPT-4 summary (natural language)
	‚Ä¢	(Optional) Annotated video with overlaid skeleton

‚∏ª

üéØ Focus Areas for Athletic Analysis

The system should prioritize extracting metrics related to:

Category	Metrics to Extract
Stride	Stride count, stride length, stride rate, asymmetry
Velocity	Horizontal velocity per frame, acceleration zones
Foot Contact	Timing, contact angle, ground contact duration
Joint Angles	Knee flexion/extension, hip angle, ankle angle
Balance	Side-to-side asymmetry, posture deviation


‚∏ª

üì± Frontend Integration
	‚Ä¢	React Native app uploads videos via API.
	‚Ä¢	Backend receives video ‚Üí runs MediaPipe ‚Üí calls OpenAI ‚Üí returns:
	‚Ä¢	JSON with metrics
	‚Ä¢	Language analysis string

‚∏ª

‚úÖ Deliverables
	‚Ä¢	Refactored Python backend with MediaPipe processing
	‚Ä¢	OpenAI integration for feedback generation
	‚Ä¢	REST API endpoint for video upload + response
	‚Ä¢	Clear docs for how to call the endpoint from React Native

‚∏ª

Let me know if you‚Äôd like a GitHub-ready version of this brief, or want me to create issue/task breakdowns next.